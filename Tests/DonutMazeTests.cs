using Core.DonutMaze;
using NUnit.Framework;

namespace Tests
{
    public class DonutMazeTests
    {
        [Test]
        public void FindsShortestRoute1()
        {
            const string input = @"
_                      _
_          A           _
_          A           _
_   #######.#########  _
_   #######.........#  _
_   #######.#######.#  _
_   #######.#######.#  _
_   #######.#######.#  _
_   #####  B    ###.#  _
_ BC...##  C    ###.#  _
_   ##.##       ###.#  _
_   ##...DE  F  ###.#  _
_   #####    G  ###.#  _
_   #########.#####.#  _
_ DE..#######...###.#  _
_   #.#########.###.#  _
_ FG..#########.....#  _
_   ###########.#####  _
_              Z       _
_              Z       _
_                      _";

            var solver = new DonutMazeSolver(input);

            Assert.That(solver.ShortestStepCount, Is.EqualTo(23));
        }

        [Test]
        public void FindsShortestRoute2()
        {
            const string input = @"
_                                     _
_                    A                _
_                    A                _
_   #################.#############   _
_   #.#...#...................#.#.#   _
_   #.#.#.###.###.###.#########.#.#   _
_   #.#.#.......#...#.....#.#.#...#   _
_   #.#########.###.#####.#.#.###.#   _
_   #.............#.#.....#.......#   _
_   ###.###########.###.#####.#.#.#   _
_   #.....#        A   C    #.#.#.#   _
_   #######        S   P    #####.#   _
_   #.#...#                 #......VT _
_   #.#.#.#                 #.#####   _
_   #...#.#               YN....#.#   _
_   #.###.#                 #####.#   _
_ DI....#.#                 #.....#   _
_   #####.#                 #.###.#   _
_ ZZ......#               QG....#..AS _
_   ###.###                 #######   _
_ JO..#.#.#                 #.....#   _
_   #.#.#.#                 ###.#.#   _
_   #...#..DI             BU....#..LF _
_   #####.#                 #.#####   _
_ YN......#               VT..#....QG _
_   #.###.#                 #.###.#   _
_   #.#...#                 #.....#   _
_   ###.###    J L     J    #.#.###   _
_   #.....#    O F     P    #.#...#   _
_   #.###.#####.#.#####.#####.###.#   _
_   #...#.#.#...#.....#.....#.#...#   _
_   #.#####.###.###.#.#.#########.#   _
_   #...#.#.....#...#.#.#.#.....#.#   _
_   #.###.#####.###.###.#.#.#######   _
_   #.#.........#...#.............#   _
_   #########.###.###.#############   _
_            B   J   C                _
_            U   P   P                _
_                                     _";

            var solver = new DonutMazeSolver(input);

            Assert.That(solver.ShortestStepCount, Is.EqualTo(58));
        }
    }
}