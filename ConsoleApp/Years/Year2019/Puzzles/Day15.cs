using System;
using Core.Oxygen;
using Core.OxygenSystem;

namespace ConsoleApp.Years.Year2019.Puzzles
{
    public class Day15 : Day2019
    {
        public Day15() : base(15)
        {
        }

        public override PuzzleResult RunPart1()
        {
            // VERY SLOW
            var droid = new RepairDroid(FileInput);
            var result1 = droid.Run();

            return new PuzzleResult($"Steps to find oxygen system: {result1}");
        }

        public override PuzzleResult RunPart2()
        {
            var filler = new OxygenFiller(GeneratedMapFromStep1);
            var result = filler.Fill();

            return new PuzzleResult($"Number of minutes: {result}");
        }

        private const string GeneratedMapFromStep1 = @"
_ # ############# ### ##### ############# _
_#.#.............#...#.....#.............#_
_#.#.#.#########.###.#.#.#.#########.###.#_
_#...#.......#.#...#...#.#...#.....#.#...#_
_#.#########.#.###.#.###.###.#.###.#.#.## _
_#.....#...#.#.....#.#...#.....#.#.#.#...#_
_ ######.#.#.#.#######.#########.#.#.###.#_
_#.......#...#...#...#.#...#.......#.#...#_
_#.#############.#.#.#.#.#.###.#######.#.#_
_#...#.....#...#...#.#...#...#.........#.#_
_#.#.#.###.#.#######.###.###.#.#########.#_
_#.#.#...#.#...........#.#...#.#...#.....#_
_#.#.###.#.#.#########.###.#####.#.#.#### _
_#.#.....#.#...#...#.....#.#.....#.#.....#_
_#.#######.#####.#.#####.#.#.#####.#####.#_
_#.#...#.#.......#...#.....#.....#.#.....#_
_#.#.#.#.######## ##.#######.#####.###### _
_#.#.#.#.........#.#.#.......#...#.#.....#_
_#.#.#.#.#######.#.#.#.#######.#.#.#.###.#_
_#...#...#.#.....#.#...#.......#.#.....#.#_
_ ########.#.#####.#####.#######.#####.#.#_
_#.....#.....#.....#.#...#.....#.....#.#.#_
_#.###.#.#####.###.#.#####.#.#######.###.#_
_#.#...#.....#.#.#.......#.#.....#...#...#_
_#.#### ####.#.#.#.#####.## ####.#.###.#.#_
_#.#...#...#.#.#...#...#...#.....#.#...#.#_
_#.#.#.#.#.#.#.#####.#.###.#.###.#.###.## _
_#...#...#...#.......#.#...#.#.#.#...#...#_
_#.#############.#####.###.#.#.#.###.###.#_
_#.#...........#.#...#...#.#.#.....#.#...#_
_#.#####.#####.#.#.#.###.#.#.#####.#.#.## _
_#...#...#...#.#...#.#.#.#...#...#.#...#.#_
_ ##.#.###.#.#.#####.#.#.#.###.#.#.#####.#_
_#.#.#.#...#.#.#.......#.#.#...#.#...#...#_
_#.#.#.#.#####.#######.#.###.###.###.#.#.#_
_#.#...#.....#...#...#.#.....#...#...#.#.#_
_#.#####.###.###.#.#.#########.###.###.#.#_
_#...#...#.#.....#.#.#.....#...#.#...#X#.#_
_#.###.###.#######.#.#.###.#.###.###.###.#_
_#.................#...#.....#...........#_
_ ################# ### ##### ########### _
";
    }
}